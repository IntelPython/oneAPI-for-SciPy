<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.101.0"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/oneAPI-for-SciPy/favicons/favicon.ico><link rel=apple-touch-icon href=/oneAPI-for-SciPy/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/android-192x192.png sizes=192x192><title>oneAPI Python extensions | oneAPI for SciPy</title><meta name=description content="Python extensions can be built with DPC++. This is how.
"><meta property="og:title" content="oneAPI Python extensions"><meta property="og:description" content="Python extensions can be built with DPC++. This is how.
"><meta property="og:type" content="article"><meta property="og:url" content="https://IntelPython.github.io/oneAPI-for-SciPy/details/skbuild/"><meta property="article:section" content="details"><meta property="article:published_time" content="2022-06-14T00:00:00+00:00"><meta property="article:modified_time" content="2022-07-06T12:20:36-05:00"><meta itemprop=name content="oneAPI Python extensions"><meta itemprop=description content="Python extensions can be built with DPC++. This is how.
"><meta itemprop=datePublished content="2022-06-14T00:00:00+00:00"><meta itemprop=dateModified content="2022-07-06T12:20:36-05:00"><meta itemprop=wordCount content="142"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="oneAPI Python extensions"><meta name=twitter:description content="Python extensions can be built with DPC++. This is how.
"><link rel=preload href=/oneAPI-for-SciPy/scss/main.min.0864eb5d0ab0b5c455dfd1ed64c77bdf2d9633b03400085e0e00644d920996ef.css as=style><link href=/oneAPI-for-SciPy/scss/main.min.0864eb5d0ab0b5c455dfd1ed64c77bdf2d9633b03400085e0e00644d920996ef.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-00000000-0","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/oneAPI-for-SciPy/><span class=navbar-logo></span><span class=font-weight-bold>oneAPI for SciPy</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/oneAPI-for-SciPy/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/oneAPI-for-SciPy/details/><span class=active>Details</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-oneapi-for-scipydetails-li><a href=/oneAPI-for-SciPy/details/ title="SciPy 2022 virtual poster" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-oneapi-for-scipydetails><span>Details</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-oneapi-for-scipydetailsprogramming_model-li><a href=/oneAPI-for-SciPy/details/programming_model/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-oneapi-for-scipydetailsprogramming_model><span>Programming model</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-oneapi-for-scipydetailsoneapi-li><a href=/oneAPI-for-SciPy/details/oneapi/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-oneapi-for-scipydetailsoneapi><span>What is oneAPI</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-oneapi-for-scipydetailsinstall_oneapi-li><a href=/oneAPI-for-SciPy/details/install_oneapi/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-oneapi-for-scipydetailsinstall_oneapi><span>Install Intel(R) oneAPI toolkits</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-oneapi-for-scipydetailsskbuild-li><a href=/oneAPI-for-SciPy/details/skbuild/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-oneapi-for-scipydetailsskbuild><span class=td-sidebar-nav-active-item>oneAPI Python extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-oneapi-for-scipydetailswhy-li><a href=/oneAPI-for-SciPy/details/why/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-oneapi-for-scipydetailswhy><span>Why use oneAPI in Python</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/IntelPython/oneAPI-for-SciPy/tree/main/content/en/details/skbuild.md class=td-page-meta--view target=_blank rel=noopener><i class="fa fa-file-alt fa-fw"></i> View page source</a>
<a href=https://github.com/IntelPython/oneAPI-for-SciPy/edit/main/content/en/details/skbuild.md class=td-page-meta--edit target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/IntelPython/oneAPI-for-SciPy/new/main/content/en/details/skbuild.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class=td-page-meta--child target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/IntelPython/oneAPI-for-SciPy/issues/new?title=oneAPI%20Python%20extensions" class=td-page-meta--issue target=_blank rel=noopener><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a id=print href=https://IntelPython.github.io/oneAPI-for-SciPy/details/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li><a href=#suitability-of-dpc-for-python-stack>Suitability of DPC++ for Python stack</a></li><li><a href=#building-first-extension>Building first extension</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><h1>oneAPI Python extensions</h1><div class=lead>Python extensions can be built with DPC++. This is how.</div><header class=article-meta></header><h3 id=suitability-of-dpc-for-python-stack>Suitability of DPC++ for Python stack</h3><p>DPC++ is a <a href=https://oneapi-src.github.io/DPCPP_Reference/#data-parallel-c-dpc>single source compiler</a>. It generates <a href=https://www.intel.com/content/www/us/en/develop/documentation/oneapi-programming-guide/top/programming-interface/compilation-flow-overview.html>both the host code and the device code</a> in a single fat binary.</p><p>DPC++ is an LLVM-based compiler, but the host portion of the binary it produces is compatible with GCC runtime libraries on Linux and Windows runtime libraries on Windows. Thus native Python extensions authored in C++ can be directly built with DPC++. Such extensions will require DPC++ runtime library at the runtime.</p><p>Intel(R) compute runtime needs to be present for DPC++ runtime to be able to target supported Intel devices. When using open-source DPC++ from <a href=https://github.com/intel/llvm.git>github.com/intel/llvm</a> compiled with support for NVIDIA CUDA, HIP NVIDIA, or HIP AMD (see <a href=https://github.com/intel/llvm/blob/sycl/sycl/doc/GetStartedGuide.md>intel/llvm/getting-started</a> for details), respective runtimes and drivers will need to be present for DPC++ runtime to target these devices.</p><h3 id=building-first-extension>Building first extension</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>CXX</span><span style=color:#ce5c00;font-weight:700>=</span>dpcpp <span style=color:#000>LDSHARED</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;dpcpp --shared&#34;</span> python setup.py develop
</span></span></code></pre></div><div class="text-muted mt-5 pt-3 border-top">Last modified July 6, 2022: <a href=https://github.com/IntelPython/oneAPI-for-SciPy/commit/ccf85be413950ff2048e82f05eb08dc6e19dd2ac>Archiving beginning of filling out the portion to build extensions with DPC++ (ccf85be)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Gitter aria-label=Gitter><a class=text-white target=_blank rel=noopener href=https://gitter.im/Data-Parallel-Python/community aria-label=Gitter><i class="fab fa-gitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow for Intel oneAPI" aria-label="Stack Overflow for Intel oneAPI"><a class=text-white target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/intel-oneapi aria-label="Stack Overflow for Intel oneAPI"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/IntelPython/ aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Intel Developer Zone" aria-label="Intel Developer Zone"><a class=text-white target=_blank rel=noopener href=https://community.intel.com/t5/Intel-Distribution-for-Python/bd-p/distribution-python aria-label="Intel Developer Zone"><i class="fas fa-hands-helping"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 Intel Corp. All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/oneAPI-for-SciPy/js/main.min.57829c4a449c0d377b7a44a808f57cbadb16a81488df2545e1739bf4e356c76d.js integrity="sha256-V4KcSkScDTd7ekSoCPV8utsWqBSI3yVF4XOb9ONWx20=" crossorigin=anonymous></script></body></html>