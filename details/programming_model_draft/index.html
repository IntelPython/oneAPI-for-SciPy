<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.101.0"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/oneAPI-for-SciPy/favicons/favicon.ico><link rel=apple-touch-icon href=/oneAPI-for-SciPy/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/oneAPI-for-SciPy/favicons/android-192x192.png sizes=192x192><title>Programming Model | oneAPI for SciPy</title><meta name=description content="The programming model for the Data Parallel Extensions for Python (DPX4Py)
suite derives from the oneAPI programming model for device
offload. In …"><meta property="og:title" content="Programming Model"><meta property="og:description" content="The programming model for the Data Parallel Extensions for Python (DPX4Py) suite derives from the oneAPI programming model for device offload. In oneAPI, a computation kernel can be specified using generic C++ programming and then the kernel can be offloaded to any device that is supported by an underlying SYCL runtime. The device to which the kernel is offloaded is specified using an execution queue when launching the kernel.
The oneAPI unified programming model brings portability across heterogeneous architectures."><meta property="og:type" content="article"><meta property="og:url" content="https://IntelPython.github.io/oneAPI-for-SciPy/details/programming_model_draft/"><meta property="article:section" content="details"><meta property="article:published_time" content="2022-07-01T00:00:00+00:00"><meta property="article:modified_time" content="2022-07-05T21:39:46-05:00"><meta itemprop=name content="Programming Model"><meta itemprop=description content="The programming model for the Data Parallel Extensions for Python (DPX4Py) suite derives from the oneAPI programming model for device offload. In oneAPI, a computation kernel can be specified using generic C++ programming and then the kernel can be offloaded to any device that is supported by an underlying SYCL runtime. The device to which the kernel is offloaded is specified using an execution queue when launching the kernel.
The oneAPI unified programming model brings portability across heterogeneous architectures."><meta itemprop=datePublished content="2022-07-01T00:00:00+00:00"><meta itemprop=dateModified content="2022-07-05T21:39:46-05:00"><meta itemprop=wordCount content="411"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Programming Model"><meta name=twitter:description content="The programming model for the Data Parallel Extensions for Python (DPX4Py) suite derives from the oneAPI programming model for device offload. In oneAPI, a computation kernel can be specified using generic C++ programming and then the kernel can be offloaded to any device that is supported by an underlying SYCL runtime. The device to which the kernel is offloaded is specified using an execution queue when launching the kernel.
The oneAPI unified programming model brings portability across heterogeneous architectures."><link rel=preload href=/oneAPI-for-SciPy/scss/main.min.0864eb5d0ab0b5c455dfd1ed64c77bdf2d9633b03400085e0e00644d920996ef.css as=style><link href=/oneAPI-for-SciPy/scss/main.min.0864eb5d0ab0b5c455dfd1ed64c77bdf2d9633b03400085e0e00644d920996ef.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-00000000-0","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/oneAPI-for-SciPy/><span class=navbar-logo></span><span class=font-weight-bold>oneAPI for SciPy</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/oneAPI-for-SciPy/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/oneAPI-for-SciPy/details/><span class=active>Details</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-oneapi-for-scipydetails-li><a href=/oneAPI-for-SciPy/details/ title="SciPy 2022 virtual poster" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-oneapi-for-scipydetails><span>Details</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-oneapi-for-scipydetailsprogramming_model-li><a href=/oneAPI-for-SciPy/details/programming_model/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-oneapi-for-scipydetailsprogramming_model><span>Programming model</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-oneapi-for-scipydetailsoneapi-li><a href=/oneAPI-for-SciPy/details/oneapi/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-oneapi-for-scipydetailsoneapi><span>What is oneAPI</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-oneapi-for-scipydetailsinstall_oneapi-li><a href=/oneAPI-for-SciPy/details/install_oneapi/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-oneapi-for-scipydetailsinstall_oneapi><span>Install Intel(R) oneAPI toolkits</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-oneapi-for-scipydetailsskbuild-li><a href=/oneAPI-for-SciPy/details/skbuild/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-oneapi-for-scipydetailsskbuild><span>oneAPI Python extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-oneapi-for-scipydetailswhy-li><a href=/oneAPI-for-SciPy/details/why/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-oneapi-for-scipydetailswhy><span>Why use oneAPI in Python</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/IntelPython/oneAPI-for-SciPy/tree/main/content/en/details/programming_model_draft.md class=td-page-meta--view target=_blank rel=noopener><i class="fa fa-file-alt fa-fw"></i> View page source</a>
<a href=https://github.com/IntelPython/oneAPI-for-SciPy/edit/main/content/en/details/programming_model_draft.md class=td-page-meta--edit target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/IntelPython/oneAPI-for-SciPy/new/main/content/en/details/programming_model_draft.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class=td-page-meta--child target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/IntelPython/oneAPI-for-SciPy/issues/new?title=Programming%20Model" class=td-page-meta--issue target=_blank rel=noopener><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a id=print href=https://IntelPython.github.io/oneAPI-for-SciPy/details/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li><a href=#compute-follows-data>Compute follows data</a></li><li><a href=#extra-knobs>Extra knobs</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><h1>Programming Model</h1><header class=article-meta></header><p>The programming model for the <strong>Data Parallel Extensions for Python</strong> (DPX4Py)
suite derives from the oneAPI <a href=https://en.wikipedia.org/wiki/OneAPI_(compute_acceleration)>programming model</a> for device
offload. In oneAPI, a computation kernel can be specified using generic C++
programming and then the kernel can be offloaded to any device that is supported
by an underlying SYCL runtime. The device to which the kernel is offloaded is
specified using an execution queue when <em>launching</em> the kernel.</p><p>The oneAPI unified programming model brings portability across heterogeneous architectures.
Another important aspect of the programming model is its inherent flexibility
that makes it possible to go beyond portability and even strive for performance
portability. An oneAPI library may be implemented using C++ techniques such as
template metaprogramming or dynamic polymorphism to implement specializations
for a generic kernel. If a kernel is implemented polymorphically, the
specialized implementation will be dispatched based on the execution queue
specified during kernel launch. the oneMKL library is an example of a
performance portable oneAPI library. Figure below shows a <strong>gemv</strong> kernel from the
<a href=https://spec.oneapi.io/versions/latest/elements/oneMKL/source/domains/blas/gemv.html#gemv-usm-version>oneMKL library</a> that can be launched on multiple types of architectures
simply by changing the execution queue.</p><p><strong>TODO: Add gemv figure</strong></p><p>In the oneAPI and SYCL programming model, the device where data is allocated is
not tightly coupled with the device where a kernel is executed. The model allows
for implicit data movement across devices. The design offers flexibility to
oneAPI users many of whom are experienced C++ programmers. When extending the
oneAPI programming model to Python via the DPX4Py suite, we felt the need to
make few adjustments to make the model more suited to the Python programming
language. One of the <a href=https://peps.python.org/pep-0020/>key Python tenets</a> is: <em>explicit is better than
implicit</em>. Following the tenet, a <em>Pythonic</em> programming model for device
offload should allow a programmer to explicitly answer the following two key
questions: <strong>Where is data allocated?</strong>, <strong>Where would the computation occur?</strong>
Moreover, if data needs to be moved to a device a programmer should have
explicit control of any such data movement. These requirements are fulfilled by
a programming model called <em>compute follows data</em>.</p><h3 id=compute-follows-data>Compute follows data</h3><p><strong>TODO:</strong></p><ul><li><p>describe compute follows data</p></li><li><p>cite Array API</p></li><li><p>present example</p></li><li><p>End with a rationale. Mention that it does not violate oneAPI programming
model.</p></li></ul><h3 id=extra-knobs>Extra knobs</h3><p><strong>TODO:</strong></p><ul><li>DPX4Py does support the overall oneAPI programming model. Present current way
of launching kernels in dpex.</li><li>Compute follows data is the prescribed model, but libraries can support
implicit data movement (similar to CuPy or TensorFlow) if the want.</li></ul><div class="text-muted mt-5 pt-3 border-top">Last modified July 5, 2022: <a href=https://github.com/IntelPython/oneAPI-for-SciPy/commit/32ea04a13ec91823fed518636962a09bc1a6ab02>Filled out programming model section turned from quickstart.md (32ea04a)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Gitter aria-label=Gitter><a class=text-white target=_blank rel=noopener href=https://gitter.im/Data-Parallel-Python/community aria-label=Gitter><i class="fab fa-gitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow for Intel oneAPI" aria-label="Stack Overflow for Intel oneAPI"><a class=text-white target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/intel-oneapi aria-label="Stack Overflow for Intel oneAPI"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/IntelPython/ aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Intel Developer Zone" aria-label="Intel Developer Zone"><a class=text-white target=_blank rel=noopener href=https://community.intel.com/t5/Intel-Distribution-for-Python/bd-p/distribution-python aria-label="Intel Developer Zone"><i class="fas fa-hands-helping"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 Intel Corp. All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/oneAPI-for-SciPy/js/main.min.57829c4a449c0d377b7a44a808f57cbadb16a81488df2545e1739bf4e356c76d.js integrity="sha256-V4KcSkScDTd7ekSoCPV8utsWqBSI3yVF4XOb9ONWx20=" crossorigin=anonymous></script></body></html>